// Structure
// Section


.section {
  position: relative;
  margin-right: auto;
  margin-left: auto;
  @include make-section();

  > .__header {
    flex: 1;
    margin-bottom: 2rem;

    .__title {
      @include type-d3();
      font-weight: $type-light;
      margin-bottom: 0.125rem;
      line-height: 1.2;

      @include mqbp-up(t) {
        @include type-d4();
        text-indent: -3px;
      }

      @include mqbp-up(d) {
        text-indent: -4px;
      }
    }

    .__pretitle { margin-bottom: 0.25rem; }
    .__subtitle { @include type-lead(); }
    .__title + .__subtitle { padding-top: 0.125rem; }
  }

  &.\--measure {
    .__header { @extend .measure; }
  }

  &.\--measure-narrow {
    .__header { @extend .measure--narrow; }
  }

  &.\--measure-wide {
    .__header { @extend .measure--wide; }
  }

  &.\--center {
    .__header {
      @extend .mx--auto;
      text-align: center;
    }
  }
}

.full .section,
.full .masthead { @include make-section('full'); }

.contain .section,
.contain .masthead { @include make-section('contain', $contain: $contain-width); }

.section .section {
  padding: 0;
  overflow-x: hidden; // prevent longer words on xs from forcing an x-axis scroll

  .row:last-child {
    .col { margin-bottom: 0; }
  }
}

.section.\--flush {
  padding-right: 0;
  padding-left: 0;
}

// Remove the negative margin from a section's default .row, then the horizontal padding
// from all immediate children columns (to prevent runaway style inheritance).
.section.\--nogutters {
  > .row {
    margin-right: 0;
    margin-left: 0;

    > .col {
      padding-right: 0;
      padding-left: 0;
      margin-bottom: 0;
    }
  }
}

// Banners
.section.\--banner {
  @extend .fs--smooth;
  display: flex;
  align-items: center;
  padding-top: 4.4rem;
  padding-bottom: 4.4rem;

  > .__header {
    flex: 1;
    width: 100%;
    margin-bottom: 0;

    .__title {
      @include type-d3();
      margin-bottom: 0.25rem;

      @include mqbp-up(t) {
        @include type-d4();
      }

      @include mqbp-up(d) {
        @include type-d5();
      }
    }

    sup,
    sub {
      font-weight: 400;
    }

    sup { top: -2.5rem; }
  }

  &.\--top { align-items: flex-start; }
  &.\--bottom { align-items: flex-end; }

  @include mqbp-up(d) { flex-direction: row; }

  &.\+nav {
    flex: 0;
    flex-direction: column;
    justify-content: space-around;
    padding-bottom: 5rem;

    .__header { flex: 0; }

    &.\--top { justify-content: flex-start; }
    &.\--bottom { justify-content: flex-end; }

    @include mqbp-up(d) {
      padding-bottom: 4.5rem;
    }
  }
}

.section.\--hero {
  @extend .\--banner;
  @extend .\--measure-wide;
  @extend .\--center;
  padding-top: 10.6rem;
  padding-bottom: 10.6rem;
}
